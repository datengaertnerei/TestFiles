/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java'
	id 'com.github.johnrengelman.shadow' version '7.1.2'  
	id 'maven-publish'  
}

repositories {
    jcenter()
}

dependencies {
    implementation 'org.apache.pdfbox:pdfbox:2.0.27'
    implementation 'org.apache.pdfbox:xmpbox:2.0.27'
    implementation 'com.github.javafaker:javafaker:1.0.2'
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.2'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.9.2'
}

group = 'com.datengaertnerei.test'
version = '0.0.1-SNAPSHOT'
description = 'letter'
java.sourceCompatibility = JavaVersion.VERSION_11

jar {
   manifest {
        attributes 'Main-Class': 'com.datengaertnerei.test.randomletter.App'
   }
}
shadowJar {
   archiveBaseName.set('random-letter')
   archiveClassifier.set('')
   archiveVersion.set('')
}
publishing {
  repositories {
    maven {
      name = "GitHubPackages"
      url = "https://maven.pkg.github.com/datengaertnerei/TestFiles"
      credentials {
        username = System.getenv("GITHUB_ACTOR")
        password = System.getenv("GITHUB_TOKEN")
      }
    }
  }
  publications {
    shadow(MavenPublication) {
      artifact shadowJar
    }
  }    
}